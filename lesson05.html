<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>lesson5 jQuery</title>
   <link rel="stylesheet" href="css/main.css">
   <script src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
</head>

<body>


   <div class="main-bg">
      <h4>Sale djWJrn~</h4>
      <button id="login" class="btn btn-danger">로그인</button>
   </div>
 
   <div class="black-bg">
      <div class="white-bg">
         <h4>로그인 하세요</h4> 

         <form action="success.html">
            <div class="my-3">
               <input type="text" class="form-control" id="email">
            </div>
            <div class="my-3">
               <input type="password" class="form-control" id="pass">
            </div>
            <button type="submit" class="btn btn-primary" id="send">전송</button>
            <button type="button" class="btn btn-danger" id="close">닫기</button>
         </form>
         <!-- form:서버로 전송되어지게 만들어주는 것 adtion:url;-->

      </div>
   </div> 

   <script> 
      $('#login').on('click', function () {
         $('.black-bg').addClass('show-modal');
      });
      $('#close').on('click', function () {
         $('.black-bg').removeClass('show-modal');
      });

      // 전송버튼 누르면 input 안에 값이 공백이면 알림창 띄워주세요

      //   알림창 alert('안녕하세요');

      // document.getElementsByClassName('btn-primary')[0].addEventListener('click', function(){

      //    var txt = document.getElementsByClassName('form-control')[0].value;
      //    if(txt == "") {
      //       alert('아이디를 입력하세요.');
      //       return;
      //       console.log(txt);
      //    } else if(txt < 6) {
      //       alert('6글자 이상 입력하세요.');
      //    }
        
      // });

      // if( 1 == 3 ){
      //    console.log('아니예요');
      // } else if( 3 == 2 ){
      //    console.log('맞아요');
      // } else {
      //    console.log('다 아니다');
      // }

      // document.getElementById('email').value.length();

      $('form').on('submit', function(e){
         e.preventDefault();

         var mail = document.getElementById('email').value; 
         if( mail === ''){
            alert('아이디를 입력하세요.');
         }
         if(/\S+@\S+.\S+/.test(mail)) {
            alert('이메일 형식 아님');
         }

         // if( document.getElementById('pass').value === '') {
         //    alert('비밀번호를 입력하세요.');
         // } else if (document.getElementById('pass').value.length < 6 ){
         //    alert('6글자 이상 입력하세요');
         // } 
      });

    
      document.querySelector('.black-bg').addEventListener('click', function(e){
        // e.target; 유저가 실제로 누른것
        // e.currentTarget; 이벤트리스너 달린곳
        // e.preventDefault(); 클릭 안한것처럼해주세요
        // e.stopImmediatePropagation(); 상위 요소 이벤트 퍼블링 중단해주세요
        
        if ( e.target == document.querySelector('.black-bg') ) {
         document.querySelector('.black-bg').classList.remove('show-modal') ; 
        }

        
      });

   </script>
</body>

</html>